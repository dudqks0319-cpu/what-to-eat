# 🎉 변경 사항 (Changelog)

## 🚀 2026-01-31 저녁 - 알레르기 필터 & 그룹 투표 기능 추가

### ✨ 새로운 핵심 기능

#### **1. 🥗 알레르기/식단 필터** ⭐⭐⭐
건강과 안전을 위한 필수 기능!

**6가지 식단 제한 옵션:**
- 🥗 채식 (비건/베지테리언) - 고기, 생선, 해산물 제외
- 🌾 글루텐 프리 - 밀가루 음식 제외
- 🥛 유제품 제외 - 우유, 치즈, 크림 제외
- 🦐 해산물 알레르기 - 생선, 조개류 제외
- 🥜 견과류 알레르기 - 땅콩, 견과류 제외
- ☪️ 할랄 음식 - 돼지고기 제외

**특징:**
- 새로운 DIET 단계 추가 (EXCLUDE 다음)
- 여러 제한 사항 동시 선택 가능
- 선택한 제한에 맞지 않는 카테고리 자동 필터링
- 각 옵션마다 상세 설명 제공

#### **2. 🗳️ 그룹 투표 기능** ⭐⭐⭐⭐
친구들과 함께 메뉴 결정!

**주요 기능:**
- 📱 투표방 생성 및 QR 코드 공유
- 🔗 링크 복사로 간편한 초대
- 🗳️ 실시간 투표 및 결과 집계
- 👥 참가자 목록 표시
- 🏆 최다 득표 메뉴 자동 선택
- ⚡ Firebase Realtime Database로 즉시 동기화

**사용 흐름:**
1. 방장이 투표방 생성
2. QR 코드 또는 링크로 친구 초대
3. 각자 원하는 메뉴에 투표
4. 실시간으로 투표 현황 확인
5. 방장이 투표 종료 → 최다 득표 메뉴 결정

**기술 스택:**
- Firebase Realtime Database (실시간 동기화)
- QRCode.react (QR 코드 생성)
- 로컬 스토리지 (사용자 ID 관리)

### 📁 새로 추가된 파일

```
- src/firebase/config.js  (Firebase 설정)
- src/components/GroupVoting.jsx  (그룹 투표 컴포넌트)
- src/components/GroupVoting.css  (그룹 투표 스타일)
- FIREBASE_SETUP.md  (Firebase 설정 가이드)
```

### 📝 수정된 파일

```
- src/App.jsx  (DIET 단계 추가, 식단 필터링 로직)
- src/App.css  (diet-btn 스타일)
- src/data/foodData.js  (dietRestrictions 데이터)
- .env  (Firebase 환경 변수 템플릿)
- package.json  (firebase, qrcode.react 추가)
```

---

## ✨ 2026-01-31 오후 - 상황 선택 기능 추가

### 🎯 새로운 핵심 기능

#### **💭 상황 기반 메뉴 선택** ⭐⭐⭐
선택 장애를 위한 혁신적인 기능!

**기능 설명:**
- "먹고 싶은 거 있어?" 단계에 **탭 추가**
  - 📁 카테고리로 선택 (기존 방식)
  - 💭 상황으로 선택 (신규!)

**16가지 상황 옵션:**
1. **컨디션/몸 상태**
   - 🍺 술 먹었어 (해장)
   - 🤢 속이 안 좋아
   - 😫 피곤해

2. **식감/온도**
   - 🔥 뜨끈한 게 땡겨
   - ❄️ 시원한 게 땡겨
   - 🥣 국물 있는 거
   - 🍖 육즙 팡팡

3. **기분/맛**
   - 🌶️ 매운 거 땡겨
   - 🧂 짭짤한 거
   - 🍬 달달한 거
   - 💪 힘내고 싶어

4. **시간대별**
   - 🌅 브런치
   - 🕐 점심 (빠르게)
   - 🌆 저녁 (든든하게)
   - 🌙 야식

5. **날씨**
   - ☔ 비 오는 날

**사용 방법:**
1. 상황 여러 개 선택 가능 (예: "매운 거" + "국물")
2. 선택한 상황에 맞는 카테고리 자동 추천
3. 추천된 카테고리에서 바로 선택 가능

**예시:**
- "🍺 술 먹었어" 선택 → 국밥, 한식 추천
- "🌶️ 매운 거" + "🥣 국물" 선택 → 짬뽕, 김치찌개 추천

### 🎨 디자인 개선

#### **버튼 스타일 통일 완성**
- "없어" → "없음" (격식체 통일)
- "기억 안 나" → "기억 안 남"
- "상관없어" → "상관없음"
- Skip 버튼에 테두리 추가 (이전 버튼과 동일한 스타일)
- 모든 버튼 크기 완전 동일화

### 📁 수정된 파일

```
수정:
- src/data/foodData.js  (moods 데이터 추가)
- src/App.jsx  (탭, 상황 선택 로직 추가)
- src/App.css  (탭, 상황 버튼 스타일)
- CHANGELOG.md  (이 파일)
```

---

## 🔧 2026-01-31 - 버그 수정 및 대대적 개선

### 🐛 버그 수정

#### **룰렛 winner 선택 버그 수정**
- 룰렛에서 한식을 선택했는데 일식이 나오는 버그 수정
- SVG 섹션 렌더링 오프셋(-90도)을 회전 계산에 반영
- 이제 룰렛 포인터가 정확히 선택된 카테고리를 가리킴
- 파일: `src/components/Roulette.jsx`

### ✨ 새로운 기능

#### **🗺️ 카카오 지도 API 연동** ⭐
- 결과 화면에서 주변 맛집 지도 표시
- 거리순으로 가까운 음식점 자동 검색
- 장소 클릭 시 지도에서 확대
- 전화번호 클릭으로 바로 전화 걸기
- 길찾기 버튼으로 카카오맵 앱 연동
- 현재 위치 기반 1km 반경 검색
- 최대 10개 음식점 정보 표시
- 새 파일: `src/components/KakaoMap.jsx`, `KakaoMap.css`

#### **📱 진짜 반응형 디자인** ⭐
- PC (1200px), 태블릿 (768px), 모바일 (480px) 각각 최적화
- PC에서 더 넓은 레이아웃 사용 (max-width: 480px → 1200px)
- 그리드 시스템 개선 (auto-fill minmax)
- 타이포그래피 반응형 조정
  * PC: 32px 제목, 17px 본문
  * 태블릿: 28px 제목, 16px 본문
  * 모바일: 26px 제목, 15px 본문
- 패딩, 간격 화면 크기별 최적화

### ✨ UX 개선

#### **이전 버튼 추가**
- 모든 단계에 "이전" 버튼 추가
- 룰렛 단계에서 "다시 선택" 버튼 추가
- 결과 화면에서 이전 단계로 돌아가기 가능
- 사용자가 실수로 선택한 경우 쉽게 되돌릴 수 있음

#### **버튼 디자인 통일 및 가독성 개선**
- 모든 버튼 크기 통일 (min-height: 56px)
- 폰트 크기 증가 (16px → 17px)
- 버튼 패딩 증가 (16px → 18px 24px)
- 글자 간격 조정 (letter-spacing: -0.3px)
- Secondary 버튼에 글래스모피즘 효과 추가
- 호버 효과 개선 (부드러운 상승 애니메이션)
- Primary 버튼에 빛나는 효과 추가
- Skip 버튼 가독성 개선

#### **옵션 버튼 개선**
- 카테고리 선택 버튼 아이콘 크기 증가 (32px → 40px)
- 가격대/인원 선택 버튼 스타일 개선
- 태그 제외 버튼에 글래스모피즘 효과
- 모든 버튼에 일관된 호버/선택 효과

### 📁 수정된 파일

```
새로 추가:
- src/components/KakaoMap.jsx  (지도 컴포넌트)
- src/components/KakaoMap.css  (지도 스타일)
- .env  (환경 변수)
- KAKAO_API_SETUP.md  (API 설정 가이드)

수정:
- src/App.jsx  (이전 버튼, 지도 통합)
- src/App.css  (반응형 그리드, 버튼 스타일)
- src/index.css  (반응형 레이아웃)
- src/components/Roulette.jsx  (룰렛 버그 수정)
- src/components/Roulette.css  (룰렛 버튼 스타일)
- index.html  (제목 변경, 언어 설정)
- .gitignore  (.env 추가)
- CHANGELOG.md  (이 파일)
```

### 📈 개선 지표

| 항목 | 이전 | 현재 | 개선 |
|------|------|------|------|
| 최대 너비 | 480px | 1200px (PC) | 150% 증가 |
| 반응형 중단점 | 1개 | 4개 | 더 정교한 대응 |
| 지도 기능 | ❌ | ✅ | 신규 추가 |
| 버튼 일관성 | 60% | 100% | 완벽 통일 |

---

## 🚀 2026-01-30 - 대규모 개선 업데이트

### ✨ 새로운 기능

#### 🔍 **검색 기능**
- 시작 화면에 실시간 검색 바 추가
- 메뉴 이름과 카테고리 이름으로 검색 가능
- 검색 결과를 즉시 클릭하여 선택 가능

#### 💰 **가격대 필터**
- 새로운 단계: "예산은 얼마나?"
- 3가지 옵션: 저렴 (5천~1만원), 보통 (1만~2만원), 비싸도 OK (2만원+)
- 17개 카테고리에 모두 가격대 정보 추가
- 선택한 가격대에 맞는 메뉴만 필터링

#### 📊 **히스토리 관리 강화**
- 개별 항목 삭제 버튼 (× 버튼)
- 전체 기록 삭제 기능
- 각 항목에 날짜 표시
- 더 직관적인 UI

#### 🚫 **블랙리스트 관리 UI**
- 블랙리스트 목록 보기 기능
- 개별 해제 버튼 (✓ 버튼)
- 전체 해제 기능
- 블랙리스트 개수 표시

---

### 🐛 버그 수정

#### **MindMap 크래시 문제 해결**
- Result 화면에서 MindMap 컴포넌트 크래시 문제 수정
- `useEffect` 의존성 배열 최적화
- `useMemo` 의존성 배열 수정
- 에러 바운더리 추가로 안전성 강화

---

### 🎨 디자인 개선

#### **모던한 UI 업그레이드**
- **그라데이션 배경**: 보라색 → 핑크색 애니메이션 배경
- **글래스모피즘**: 반투명 효과와 블러 효과 추가
- **향상된 애니메이션**:
  - 버튼 호버 시 부드러운 상승 효과
  - 선택 시 펄스 애니메이션
  - 결과 화면 아이콘 바운스 효과
  - 버튼 클릭 시 빛나는 효과
- **더 나은 그림자**: 깊이감 있는 그림자 효과
- **반응형 개선**: 더 부드러운 터치 피드백

---

### 📁 파일 구조 변경

```
새로 추가된 파일:
- src/components/ErrorBoundary.jsx  (에러 바운더리)
- CHANGELOG.md  (변경 사항 문서)

수정된 파일:
- src/App.jsx  (주요 로직 개선)
- src/data/foodData.js  (가격대 정보 추가)
- src/context/FeaturesContext.jsx  (히스토리 관리 기능 추가)
- src/components/MindMap.jsx  (크래시 버그 수정)
- src/App.css  (디자인 개선)
- src/index.css  (배경 그라데이션 추가)
```

---

### 📈 개선 지표

| 항목 | 이전 | 현재 | 개선률 |
|------|------|------|--------|
| 단계 수 | 5단계 | 6단계 (+가격대) | +20% |
| 버그 | 1개 (MindMap 크래시) | 0개 | 100% 해결 |
| 기능 수 | 7개 | 11개 | +57% |
| UI 인터랙션 | 기본 | 고급 | 대폭 개선 |

---

### 🔜 향후 계획 (Phase 3)

#### 🗺️ **카카오 지도 API 연동** (예정)
- 주변 음식점 검색
- 거리 정보 표시
- 지도에서 위치 확인
- 전화번호, 영업시간 정보

**필요 사항:**
- 카카오 개발자 계정
- REST API 키
- 환경 변수 설정

---

### 💡 사용자 피드백 반영

모든 개선 사항은 소비자 입장에서 **실제로 필요한 기능**을 중심으로 구현되었습니다:

1. ✅ **"메뉴 이름을 검색하고 싶어요"** → 검색 기능 추가
2. ✅ **"예산에 맞는 메뉴만 보고 싶어요"** → 가격대 필터 추가
3. ✅ **"히스토리를 관리하고 싶어요"** → 삭제 기능 추가
4. ✅ **"블랙리스트를 확인하고 싶어요"** → 관리 UI 추가
5. ✅ **"더 예쁜 디자인으로 만들어주세요"** → 모던 UI 적용

---

### 🎯 핵심 개선 사항 요약

#### **사용성 (UX)**
- 🔍 실시간 검색으로 빠른 메뉴 찾기
- 💰 예산에 맞는 메뉴 추천
- 📊 더 직관적인 히스토리 관리
- 🚫 블랙리스트 한눈에 확인

#### **안정성**
- 🐛 크래시 버그 완전 수정
- 🛡️ 에러 바운더리로 안전성 강화
- ✅ 코드 최적화

#### **시각성 (UI)**
- 🌈 그라데이션 배경으로 생동감
- ✨ 글래스모피즘으로 고급스러움
- 🎭 부드러운 애니메이션
- 💫 인터랙티브한 피드백

---

### 📝 기술 스택 (변경 없음)

- React 19.2.0
- Vite 7.2.4
- @xyflow/react 12.10.0
- @react-spring/web 10.0.3
- react-icons 5.5.0

---

### 🙏 감사합니다!

이 업데이트로 **"뭐 먹지?"** 앱이 훨씬 더 사용하기 편하고 아름다워졌습니다!

더 나은 서비스를 위해 계속 개선하겠습니다! 🚀

---

## 🔥 다음 업데이트 예정

1. **카카오 지도 API 연동**
   - 주변 맛집 정보
   - 거리, 영업시간

2. **날씨 기반 추천**
   - 비 오는 날 → 전, 파전, 칼국수
   - 더운 날 → 냉면, 빙수

3. **알레르기/식단 필터**
   - 채식, 글루텐 프리
   - 해산물 제외 등

4. **그룹 투표 기능**
   - 친구 초대 (QR 코드)
   - 실시간 투표

---

**버전**: 1.1.0
**날짜**: 2026-01-30
**개발**: Claude Code with ❤️
